{% extends "base.html" %}
{% block samplings %}

<div class="container">
  <div class="row">
    <div class="col-sm-12 col-md-6">
      <h2>Stratified Sampling</h2>
      <form method="POST" action="{% url 'stratified_sampling' %}" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group">
          <label for="allocationType">Allocation Type:</label>
          <select class="form-control" id="allocationType" name="allocationType" required>
            <option value="equal">Equal Allocation</option>
            <option value="proportional">Proportional Allocation</option>
          </select>
          <small class="form-text text-muted">Choose the allocation type for stratified sampling.</small>
        </div>

        <div class="form-group">
          <label for="samplingType">Sampling Type:</label>
          <select class="form-control" id="samplingType" name="samplingType" required>
            <option value="geometricalApproach">Geometrical Approach</option>
            <option value="mechanicalRandomisation">Mechanical Randomization</option>
            <option value="randomNumberGeneration">Random Number Generation</option>
          </select>
          <small class="form-text text-muted">Select the sampling method for stratified sampling.</small>
        </div>

        <div class="form-group">
          <label for="insertedId">Inserted ID:</label>
          <input type="text" class="form-control" id="insertedId" name="insertedId" required>
          <small class="form-text text-muted">Enter the ID for the sampling process.</small>
        </div>

        <div class="form-group">
          <label for="replacement">Replacement:</label>
          <input type="checkbox" id="replacement" name="replacement" value="true">
          <small class="form-text text-muted">Check this box if you want to allow replacement during sampling.</small>
        </div>

        <div class="form-group">
          <label for="populationSize">Population Size:</label>
          <input type="text" class="form-control" id="populationSize" name="populationSize" required>
          <small class="form-text text-muted">Enter the size of the population.</small>
        </div>

        <div class="form-group">
          <label for="data">Data:</label>
          <select class="form-control" id="data" name="data" required>
            <option value="api">API</option>
            <option value="upload">Upload</option>
          </select>
          <small class="form-text text-muted">Select the source of data for stratified sampling.</small>
        </div>

        <div id="uploadContainer" style="display: none;">
          <label for="file">Upload File:</label>
          <input type="file" id="file" name="file" accept=".xlsx, .xls">
          <small class="form-text text-muted">Upload an Excel file containing the population data.</small>
        </div>
        
        <div class="form-group">
          <label for="result">Result Type:</label>
          <select class="form-control" id="result" name="result">
            <option value="API">API</option>
            <option value="Table">Table</option>
          </select>
          <small class="form-text text-muted">Choose the type of result you want to display.</small>
        </div>
        
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </div>
  </div>
</div>

<script>
  var dataSelectElement = document.getElementById("data");
  var uploadContainer = document.getElementById("uploadContainer");

  dataSelectElement.addEventListener("change", function () {
    if (dataSelectElement.value === "upload") {
      uploadContainer.style.display = "block";
    } else {
      uploadContainer.style.display = "none";
    }
  });
</script>
{% endblock samplings %}
